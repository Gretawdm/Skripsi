{% extends 'base.html' %}

{% block title %}Home - Fossil Track{% endblock %}

{% block content %}
<!-- Hero Section -->
<section id="hero" class="hero section">
    <div class="container">
        <div class="row justify-content-center text-center">
            <div class="col-lg-8" data-aos="fade-in">
                <div class="hero-content">
                    <h1>Prediksi, Analisis, dan Aksi untuk Masa Depan Energi Indonesia</h1>
                    <p>Menggunakan Metode ARIMA dengan Variabel Eksternal Pertumbuhan PDB/Produk Domestik Bruto</p>
                    <div class="hero-buttons">
                        <a href="#" class="btn btn-outline-light">Lihat Data Historis</a>
                        <a href="#" class="btn btn-success">Mulai Prediksi</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="hero-wave">
        <svg class="wave" viewBox="0 0 1440 300" preserveAspectRatio="none">
            <path fill="#9bd3a7" d="M0,140
                     C180,200 360,80 540,110
                     C720,140 900,220 1080,180
                     C1260,140 1350,110 1440,130
                     L1440,300 L0,300 Z" />

            <path fill="#6fbf8e" d="M0,170
                     C200,230 380,110 560,140
                     C740,170 920,260 1100,210
                     C1280,170 1360,150 1440,160
                     L1440,300 L0,300 Z" />

            <path fill="#0f3f54" d="M0,210
                     C220,270 400,150 580,180
                     C760,210 940,300 1120,250
                     C1300,210 1380,200 1440,210
                     L1440,300 L0,300 Z" />
        </svg>
    </div>
</section>

<!-- Grafik Prediksi Section -->
<section class="py-5" style="background: white;">
    <div class="container">
        <div class="text-center mb-5" data-aos="fade-up">
            <h2 style="font-size: 2rem; font-weight: 700; color: #01384F; margin-bottom: 1rem;">
                Tren & Prediksi Konsumsi Energi Fosil Indonesia
            </h2>
            <p style="color: #6b7280; font-size: 1.1rem; margin-bottom: 0.5rem;">
                <strong>Data Historis:</strong> Konsumsi energi fosil aktual dari tahun 1965 hingga 2024
            </p>
            <p style="color: #6b7280; font-size: 1rem; margin-bottom: 1rem;">
                <strong>Prediksi:</strong> Proyeksi konsumsi energi menggunakan model ARIMAX (2025-2030)
            </p>
            <div class="d-inline-block px-4 py-3 mt-2"
                style="background: linear-gradient(135deg, #e3f2fd, #f3e5f5); border-radius: 12px; border-left: 4px solid #2196F3; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                <div class="d-flex align-items-center gap-2">
                    <i class="bi bi-info-circle" style="font-size: 1.2rem; color: #2196F3;"></i>
                    <div style="text-align: left;">
                        <div><small class="text-primary"><strong>Skenario Prediksi:</strong> GDP Growth <strong>Moderat (+5%/tahun)</strong></small></div>
                        <div><small style="color: #666;">Grafik menampilkan seluruh data historis untuk transparansi dan analisis tren jangka panjang</small></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Grafik -->
        <div class="mb-5" data-aos="fade-up">
            <div
                style="background: linear-gradient(135deg, #f8f9fa, #e9ecef); border-radius: 20px; padding: 2.5rem; box-shadow: 0 10px 30px rgba(0,0,0,0.1);">
                <canvas id="preview-chart" style="max-height: 450px;"></canvas>
            </div>
        </div>

        <!-- Stats Cards -->
        <div class="row g-4" data-aos="fade-up">
            <div class="col-md-3">
                <div class="text-center p-4"
                    style="background: linear-gradient(135deg, #53B863, #2e7d32); border-radius: 15px; color: white;">
                    <h5 id="projection-year" style="font-size: 0.9rem; margin-bottom: 0.5rem; opacity: 0.9;">Proyeksi <i
                            class="bi bi-hourglass-split"></i></h5>
                    <h2 id="projection-value" style="font-weight: 700; margin: 0;"><i class="bi bi-hourglass-split"></i>
                    </h2>
                </div>
            </div>
            <div class="col-md-3">
                <div class="text-center p-4"
                    style="background: #f8f9fa; border-radius: 15px; border: 2px solid #53B863;">
                    <h5 style="font-size: 0.9rem; margin-bottom: 0.5rem; color: #6b7280;">Pertumbuhan</h5>
                    <h2 id="growth-rate" style="font-weight: 700; margin: 0; color: #53B863;"><i
                            class="bi bi-hourglass-split"></i></h2>
                </div>
            </div>
            <div class="col-md-3">
                <div class="text-center p-4"
                    style="background: #f8f9fa; border-radius: 15px; border: 2px solid #ffc107;">
                    <h5 style="font-size: 0.9rem; margin-bottom: 0.5rem; color: #6b7280;">Data Terkini</h5>
                    <h2 style="font-weight: 700; margin: 0; color: #ffc107;">2024</h2>
                </div>
            </div>
            <div class="col-md-3">
                <div class="text-center p-4"
                    style="background: #f8f9fa; border-radius: 15px; border: 2px solid #17a2b8;">
                    <h5 style="font-size: 0.9rem; margin-bottom: 0.5rem; color: #6b7280;">Akurasi Model</h5>
                    <h2 id="model-accuracy" style="font-weight: 700; margin: 0; color: #17a2b8;"><i
                            class="bi bi-hourglass-split"></i></h2>
                </div>
            </div>
        </div>
        
        <!-- Data Information Section -->
        <div class="row mt-5" data-aos="fade-up">
            <div class="col-12">
                <div class="alert" style="background: #f0f9ff; border-left: 4px solid #0ea5e9; border-radius: 12px; padding: 1.5rem;">
                    <div class="d-flex align-items-start gap-3">
                        <i class="bi bi-info-circle-fill" style="font-size: 1.5rem; color: #0ea5e9; margin-top: 0.25rem;"></i>
                        <div>
                            <h5 style="color: #01384F; margin-bottom: 0.75rem; font-weight: 600;">
                                <i class="bi bi-bar-chart-line me-2"></i>Tentang Data & Grafik
                            </h5>
                            <div class="row">
                                <div class="col-md-6">
                                    <p style="margin-bottom: 0.5rem; color: #334155;">
                                        <strong style="color: #0ea5e9;">ðŸ“Š Data Historis Lengkap:</strong><br>
                                        Grafik menampilkan <strong>seluruh rekam jejak konsumsi energi fosil Indonesia</strong> dari tahun 1965 hingga 2024 (60 tahun data). 
                                        Transparansi data penuh membantu analisis tren jangka panjang dan pola pertumbuhan.
                                    </p>
                                </div>
                                <div class="col-md-6">
                                    <p style="margin-bottom: 0.5rem; color: #334155;">
                                        <strong style="color: #10b981;">ðŸŽ¯ Prediksi ARIMAX:</strong><br>
                                        Proyeksi 2025-2030 menggunakan model statistik ARIMAX dengan variabel eksternal <strong>GDP (Produk Domestik Bruto)</strong>. 
                                        Akurasi model teruji dengan MAPE rendah dan RÂ² tinggi.
                                    </p>
                                </div>
                            </div>
                            <hr style="margin: 1rem 0; border-color: #cbd5e1;">
                            <small style="color: #64748b;">
                                <i class="bi bi-shield-check me-1"></i>
                                <strong>Sumber Data:</strong> World Bank API & ESDM Indonesia | 
                                <strong>Update Terakhir:</strong> Real-time | 
                                <strong>Validasi:</strong> Cross-validation & Backtesting
                            </small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Simulasi Section -->
<section id="simulasi" class="py-5" style="background: linear-gradient(135deg, #01384F 0%, #0f3f54 100%);">
    <div class="container">
        <div class="text-center mb-5" data-aos="fade-up">
            <h2 style="font-size: 2rem; font-weight: 700; color: white; margin-bottom: 1rem;">
                <i class="fas fa-flask me-2"></i>Coba Simulasi Sendiri
            </h2>
            <p style="color: #c8c6e3; font-size: 1.1rem;">Ubah parameter skenario ekonomi dan tahun untuk melihat
                prediksi yang berbeda</p>
            <div class="d-inline-block px-4 py-2 mt-2"
                style="background: rgba(255,255,255,0.1); border-radius: 8px; border: 1px solid rgba(255,255,255,0.3);">
                <small style="color: #ffd700;"><i class="bi bi-lightbulb me-1"></i>Hasil simulasi hanya untuk
                    visualisasi, tidak disimpan ke database</small>
            </div>
        </div>

        <div class="row justify-content-center">
            <div class="col-lg-10">
                <div class="card" style="border-radius: 20px; box-shadow: 0 10px 40px rgba(0,0,0,0.3); border: none;">
                    <div class="card-body p-4 p-md-5">
                        <form id="simulation-form">
                            <div class="row g-4 justify-content-center">
                                <div class="col-md-6">
                                    <label class="form-label" style="font-weight: 600; color: #01384F;">
                                        <i class="fas fa-chart-bar me-2"></i>Skenario Pertumbuhan PDB
                                    </label>
                                    <select class="form-select form-select-lg" id="sim-scenario"
                                        style="border-radius: 10px;">
                                        <option value="moderate" selected>Moderat (5% per tahun)</option>
                                        <option value="optimistic">Optimis (7% per tahun)</option>
                                        <option value="pessimistic">Pesimis (3% per tahun)</option>
                                    </select>
                                    <small class="text-muted">Asumsi pertumbuhan PDB Indonesia</small>
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label" style="font-weight: 600; color: #01384F;">
                                        <i class="fas fa-calendar me-2"></i>Tahun Target Prediksi
                                    </label>
                                    <select class="form-select form-select-lg" id="sim-year"
                                        style="border-radius: 10px;">
                                        <!-- Options will be generated dynamically by JavaScript based on admin's prediction years -->
                                    </select>
                                    <small class="text-muted">Tahun yang ingin diprediksi (sesuai prediksi
                                        admin)</small>
                                </div>
                            </div>
                            <div class="text-center mt-4">
                                <button type="submit" class="btn btn-lg"
                                    style="background: linear-gradient(135deg, #53B863, #2e7d32); color: white; padding: 15px 50px; border-radius: 30px; font-weight: 700; border: none;">
                                    <i class="fas fa-magic me-2"></i>Jalankan Simulasi
                                </button>
                                <button type="button" id="resetToOfficial" class="btn btn-lg ms-3"
                                    style="background: #6c757d; color: white; padding: 15px 40px; border-radius: 30px; font-weight: 700; border: none; display: none;">
                                    <i class="fas fa-undo me-2"></i>Reset ke Prediksi Official
                                </button>
                            </div>
                        </form>

                        <!-- Hasil -->
                        <div id="sim-result" class="mt-5" style="display: none;">
                            <hr style="margin: 2rem 0;">
                            <h4 style="color: #01384F; font-weight: 700; margin-bottom: 1.5rem;">
                                <i class="fas fa-check-circle me-2" style="color: #53B863;"></i>Hasil Simulasi
                            </h4>
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <div class="p-4 text-center"
                                        style="background: linear-gradient(135deg, #53B863, #2e7d32); border-radius: 15px; color: white;">
                                        <h5 style="font-size: 0.9rem; margin-bottom: 0.5rem;">Prediksi</h5>
                                        <h2 style="font-weight: 700; font-size: 2.5rem;" id="sim-value">-</h2>
                                        <p style="font-size: 0.85rem; margin: 0;">Terawatt-hour (TWh)</p>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="p-4 text-center" style="background: #f8f9fa; border-radius: 15px;">
                                        <h5 style="font-size: 0.9rem; margin-bottom: 0.5rem; color: #6b7280;">Perubahan
                                        </h5>
                                        <h2 style="font-weight: 700; font-size: 2.5rem; color: #01384F;"
                                            id="sim-change">-</h2>
                                        <p style="font-size: 0.85rem; margin: 0; color: #6b7280;">dari 2023</p>
                                    </div>
                                </div>
                            </div>
                            <div class="mt-3 p-3"
                                style="background: #fff3cd; border-left: 4px solid #ffc107; border-radius: 10px;">
                                <p id="sim-info" style="color: #856404; margin: 0; font-size: 0.9rem;">-</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="overview-section">
    <div class="overview-container">
        <!-- Left Side: Metode & Alur Sistem -->
        <div class="overview-left">
            <!-- Metode Card -->
            <div class="about-card">
                <h3>Metode</h3>
                <p style="font-size: 0.9rem; color: #6b7280; margin-bottom: 2rem;">
                    Metode yang digunakan dalam menganalisis dan memprediksi konsumsi energi
                    fosil di Indonesia menggunakan metode prediksi Machine Learning ARIMAX.
                </p>

                <!-- Tab Icons -->
                <div class="method-tabs" style="display: flex; gap: 15px; margin-bottom: 2rem;">
                    <div class="method-tab active">
                        <i class="fas fa-database" style="font-size: 24px; color: #2e7d32;"></i>
                        <p style="font-size: 0.75rem; margin-top: 5px;">Data</p>
                    </div>
                    <div class="method-tab">
                        <i class="fas fa-sliders-h" style="font-size: 24px; color: #2e7d32;"></i>
                        <p style="font-size: 0.75rem; margin-top: 5px;">Preprosessan</p>
                    </div>
                    <div class="method-tab">
                        <i class="fas fa-chart-line" style="font-size: 24px; color: #2e7d32;"></i>
                        <p style="font-size: 0.75rem; margin-top: 5px;">ARIMA</p>
                    </div>
                    <div class="method-tab">
                        <i class="fas fa-chart-bar" style="font-size: 24px; color: #2e7d32;"></i>
                        <p style="font-size: 0.75rem; margin-top: 5px;">ARIMAX</p>
                    </div>
                </div>

                <!-- Data yang Digunakan -->
                <h4 style="font-size: 1.1rem; font-weight: 700; margin-bottom: 1rem;">Data yang Digunakan</h4>
                <p style="font-size: 0.85rem; color: #6b7280; margin-bottom: 1.5rem;">
                    Data yang digunakan meliputi tahap-tahap diolah/transformasi dari tiga menggunakan teknik pemodelan.
                </p>

                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin-bottom: 2rem;">
                    <div class="data-box">
                        <i class="fas fa-file-alt" style="color: #2e7d32; font-size: 20px; margin-bottom: 8px;"></i>
                        <h5 style="font-size: 0.85rem; font-weight: 600; margin-bottom: 4px;">Jenis Data</h5>
                        <p style="font-size: 0.75rem; color: #6b7280;">Konsumsi energi fosil (exajoule) minyak,
                            batubara, dan gas</p>
                    </div>
                    <div class="data-box">
                        <i class="fas fa-calendar-alt" style="color: #2e7d32; font-size: 20px; margin-bottom: 8px;"></i>
                        <h5 style="font-size: 0.85rem; font-weight: 600; margin-bottom: 4px;">Periode Data</h5>
                        <p style="font-size: 0.75rem; color: #6b7280;">Rentang tahun yang mencakup data dari 1990-2023
                        </p>
                    </div>
                    <div class="data-box">
                        <i class="fas fa-chart-pie" style="color: #2e7d32; font-size: 20px; margin-bottom: 8px;"></i>
                        <h5 style="font-size: 0.85rem; font-weight: 600; margin-bottom: 4px;">Sumber Data</h5>
                        <p style="font-size: 0.75rem; color: #6b7280;">Diambil dari One World in Data
                            (ourworldindata.org)</p>
                    </div>
                </div>

                <!-- Pra-pemrosesan Data -->
                <h4 style="font-size: 1.1rem; font-weight: 700; margin-bottom: 1rem;">Pra-pemrosesan Data</h4>
                <p style="font-size: 0.85rem; color: #6b7280; margin-bottom: 1.5rem;">
                    Data yang digunakan meliputi tujuh-tahapan proses preprocessing (praprocessing) berdasarkan
                    transformasi-skala yang diolah menggunakan teknik transformasi, interpolasi dan standarisasi.
                </p>

                <!-- Preprocessing Steps with Illustration -->
                <div style="display: flex; gap: 20px; align-items: center; margin-bottom: 2rem;">
                    <div style="flex: 1;">
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px;">
                            <div class="prep-step">
                                <i class="fas fa-broom" style="color: #2e7d32; margin-right: 8px;"></i>
                                <div>
                                    <h6 style="font-size: 0.8rem; font-weight: 600; margin-bottom: 2px;">Pembersihan
                                        data</h6>
                                    <p style="font-size: 0.7rem; color: #6b7280;">Penanganan nilai hilang/duplikat</p>
                                </div>
                            </div>
                            <div class="prep-step">
                                <i class="fas fa-sync-alt" style="color: #2e7d32; margin-right: 8px;"></i>
                                <div>
                                    <h6 style="font-size: 0.8rem; font-weight: 600; margin-bottom: 2px;">Transformasi
                                        dan normalisasi data</h6>
                                    <p style="font-size: 0.7rem; color: #6b7280;">Deteksi stasioneritas</p>
                                </div>
                            </div>
                            <div class="prep-step">
                                <i class="fas fa-search" style="color: #2e7d32; margin-right: 8px;"></i>
                                <div>
                                    <h6 style="font-size: 0.8rem; font-weight: 600; margin-bottom: 2px;">Uji
                                        Stasionaritas</h6>
                                    <p style="font-size: 0.7rem; color: #6b7280;">Uji Augmented Dickey Fuller untuk
                                        stasionaritas</p>
                                </div>
                            </div>
                            <div class="prep-step">
                                <i class="fas fa-chart-area" style="color: #2e7d32; margin-right: 8px;"></i>
                                <div>
                                    <h6 style="font-size: 0.8rem; font-weight: 600; margin-bottom: 2px;">Analisis ACF
                                        dan PACF</h6>
                                    <p style="font-size: 0.7rem; color: #6b7280;">Menentukan orde ARIMA</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div style="flex: 0.8;">
                        <img src="https://via.placeholder.com/250x180/e8f5ee/2e7d32?text=Data+Processing"
                            alt="Data Processing" style="width: 100%; border-radius: 8px;">
                    </div>
                </div>

                <!-- Metode ARIMA -->
                <h4 style="font-size: 1.1rem; font-weight: 700; margin-bottom: 1rem;">Metode ARIMA</h4>
                <p style="font-size: 0.85rem; color: #6b7280; margin-bottom: 1rem;">
                    ARIMA adalah model yang menggabungkan beberapa variabel stationaritas otomatis
                    yang mengintegrasikan dan mensimulasikan skala properti peramalan time series.
                </p>

                <div
                    style="display: flex; gap: 15px; margin-bottom: 2rem; background: #f8f9fa; padding: 20px; border-radius: 8px;">
                    <div class="arima-param" style="text-align: center; flex: 1;">
                        <div
                            style="background: #2e7d32; color: white; width: 50px; height: 50px; border-radius: 50%;
                                    display: flex; align-items: center; justify-content: center; margin: 0 auto 10px; font-weight: 700; font-size: 1.2rem;">
                            p
                        </div>
                        <h6 style="font-size: 0.8rem; font-weight: 600;">orde autoregressive</h6>
                    </div>
                    <div class="arima-param" style="text-align: center; flex: 1;">
                        <div
                            style="background: #1e88e5; color: white; width: 50px; height: 50px; border-radius: 50%;
                                    display: flex; align-items: center; justify-content: center; margin: 0 auto 10px; font-weight: 700; font-size: 1.2rem;">
                            d
                        </div>
                        <h6 style="font-size: 0.8rem; font-weight: 600;">tingkat Differencing</h6>
                    </div>
                    <div class="arima-param" style="text-align: center; flex: 1;">
                        <div
                            style="background: #f57c00; color: white; width: 50px; height: 50px; border-radius: 50%;
                                    display: flex; align-items: center; justify-content: center; margin: 0 auto 10px; font-weight: 700; font-size: 1.2rem;">
                            q
                        </div>
                        <h6 style="font-size: 0.8rem; font-weight: 600;">orde moving average</h6>
                    </div>
                </div>

                <!-- Metode ARIMAX -->
                <h4 style="font-size: 1.1rem; font-weight: 700; margin-bottom: 1rem;">Metode ARIMAX</h4>
                <p style="font-size: 0.85rem; color: #6b7280; margin-bottom: 1.5rem;">
                    ARIMAX atau digunakan juga merupakan memiliki metode external yang
                    berpengaruh terhadap konsumsi energi.
                </p>

                <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; text-align: center;">
                    <div
                        style="display: flex; align-items: center; justify-content: center; gap: 15px; margin-bottom: 15px;">
                        <span style="font-weight: 700; color: #1e88e5;">Eksternal Sektoral Ekonomi</span>
                        <i class="fas fa-arrow-right" style="color: #6b7280;"></i>
                        <div
                            style="background: white; padding: 10px 20px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                            <strong style="color: #2e7d32; font-size: 1.1rem;">PDB</strong>
                        </div>
                    </div>
                    <img src="https://via.placeholder.com/400x150/ffffff/2e7d32?text=ARIMAX+Chart" alt="ARIMAX"
                        style="width: 100%; max-width: 400px; margin: 0 auto; border-radius: 8px;">
                </div>
            </div>
        </div>

        <!-- Right Side: Alur Sistem & Evaluasi -->
        <div class="overview-right">
            <!-- Alur Sistem -->
            <div class="about-card" style="margin-bottom: 20px;">
                <h3 style="margin-bottom: 1.5rem;">Alur Sistem</h3>

                <div class="workflow-clean">
                    <div class="workflow-item">
                        <div class="step-number-card">01</div>
                        <div class="step-content-card">
                            <h4>Pilih Data & Periode</h4>
                            <p>Menggunakan dataset dari series dataset konsumsi, minyak, dan gas</p>
                        </div>
                    </div>

                    <div class="workflow-item">
                        <div class="step-number-card">02</div>
                        <div class="step-content-card">
                            <h4>Pra-pemrosesan Data</h4>
                            <p>Melakukan transformasi Data lini pembersihan serta data normalisasi dilakukan untuk
                                pelatihan model ARIMAX</p>
                        </div>
                    </div>

                    <div class="workflow-item">
                        <div class="step-number-card">03</div>
                        <div class="step-content-card">
                            <h4>Pemodelan ARIMA / ARIMAX</h4>
                            <p>Atur tahun prediksi dari hasil sistem model ARIMAX dengan skenario biasa/best dan worst
                            </p>
                        </div>
                    </div>

                    <div class="workflow-item">
                        <div class="step-number-card">04</div>
                        <div class="step-content-card">
                            <h4>Prediksi Konsumsi Energi</h4>
                            <p>Menggunakan runtutan skala peramalan-skala hasil kinerja ekonomi best case</p>
                        </div>
                    </div>

                    <div class="workflow-item">
                        <div class="step-number-card">05</div>
                        <div class="step-content-card">
                            <h4>Visualisasi Hasil</h4>
                            <p>Menampilkan hasil atau yang menyajikan indikator menjarah sentuhan penerimaan energi
                                untuk perusahaan</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Evaluasi Model -->
            <div class="about-card">
                <h3 style="margin-bottom: 1rem;">Evaluasi Model</h3>

                <div
                    style="display: flex; justify-content: space-around; margin-bottom: 2rem; padding: 20px; background: #f8f9fa; border-radius: 8px;">
                    <div style="text-align: center;">
                        <h2 id="model-mape"
                            style="color: #2e7d32; font-size: 1.8rem; font-weight: 700; margin-bottom: 5px;"><i
                                class="bi bi-hourglass-split"></i></h2>
                        <p style="font-size: 0.8rem; color: #6b7280;">MAPE</p>
                    </div>
                    <div style="text-align: center;">
                        <h2 id="model-version"
                            style="color: #2e7d32; font-size: 1.5rem; font-weight: 700; margin-bottom: 5px;"><i
                                class="bi bi-hourglass-split"></i></h2>
                        <p style="font-size: 0.8rem; color: #6b7280;">Model Version</p>
                    </div>
                    <div style="text-align: center;">
                        <h2 id="model-date"
                            style="color: #2e7d32; font-size: 1.2rem; font-weight: 700; margin-bottom: 5px;"><i
                                class="bi bi-hourglass-split"></i></h2>
                        <p style="font-size: 0.8rem; color: #6b7280;">Training Date</p>
                    </div>
                </div>

                <h4 style="font-size: 1rem; font-weight: 700; margin-bottom: 1rem;">Output Sistem</h4>
                <p style="font-size: 0.85rem; color: #6b7280; margin-bottom: 1rem;">
                    Tampilkan total produk yang disejajarkan sistem peringatan yang mampu
                    merangsang parameter ARIMAX yang Anda bayarkan.
                </p>

                <!-- Output Table -->
                <div class="table-responsive">
                    <table class="table table-bordered" style="font-size: 0.8rem;">
                        <thead style="background: #f8f9fa;">
                            <tr>
                                <th>Tahun</th>
                                <th>Aktual</th>
                                <th>Prediksi</th>
                                <th>Residu</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>2019</td>
                                <td>135.4</td>
                                <td>134.2</td>
                                <td>1.2</td>
                            </tr>
                            <tr>
                                <td>2020</td>
                                <td>124.6</td>
                                <td>125.8</td>
                                <td>-1.2</td>
                            </tr>
                            <tr>
                                <td>2021</td>
                                <td>128.5</td>
                                <td>127.9</td>
                                <td>0.6</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</section>


<style>
    .overview-left,
    .overview-right {
        flex: 1;
    }

    .step-number-card {
        background: #e8f5ee;
        color: #2e7d32;
        font-weight: 700;
        font-size: 1.3rem;
        width: 60px;
        height: 60px;
        border-radius: 14px;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .step-divider {
        display: none;
        /* desktop ga perlu */
    }

    .step-content-card {
        background: #ffffff;
        padding: 20px;
        border-radius: 14px;
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.08);
        flex: 1;
    }

    .overview-section {
        padding: 80px 20px;
        background: transparent;
        margin-top: -60px;
        position: relative;
        z-index: 3;
    }

    .overview-left .about-card {
        transform: translateY(-80px);
        position: relative;
        z-index: 3;
        overflow: hidden;
    }

    .overview-container {
        max-width: 1200px;
        margin: auto;
        display: grid;
        grid-template-columns: 2fr 1.5fr;
        gap: 20px;
        align-items: start;
    }

    .workflow-clean {
        max-width: 720px;
        margin: 0 auto;
    }

    .workflow-desc {
        color: #6b7280;
        margin-bottom: 2rem;
    }

    .workflow-item {
        display: flex;
        gap: 20px;
        margin-bottom: 1.8rem;
        position: relative;
    }

    .workflow-item:not(:last-child) .step-number-card::after {
        content: "";
        position: absolute;
        top: 60px;
        left: 30px;
        width: 2px;
        height: calc(100% + 10px);
        background-image: linear-gradient(to bottom, #2e7d32 50%, transparent 50%);
        background-size: 2px 8px;
        background-repeat: repeat-y;
    }

    .workflow-step {
        font-weight: 700;
        color: #2e7d32;
        min-width: 32px;
        display: flex;
        align-items: center;
        gap: 16px;
    }

    .workflow-item h4 {
        font-size: 1rem;
        margin-bottom: 6px;
        color: #1f2d3d;
    }

    .workflow-item p {
        font-size: 0.9rem;
        color: #4b5563;
        line-height: 1.6;
    }


    @media (max-width: 768px) {
        .overview-left .about-card {
            transform: translateY(0);
        }

        .overview-section {
            margin-top: 0;
        }

        .overview-left {
            order: 2;
        }

        .overview-right {
            order: 1;
        }
    }

    .about-card {
        background: #ffffff;
        padding: 30px;
        border-radius: 16px;
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.08);
    }

    .about-card h3,
    .section-header h3 {
        font-size: 1.4rem;
        font-weight: 700;
        margin-bottom: 10px;
    }

    .about-card p {
        line-height: 1.7;
        color: #374151;
    }

    .chart-title {
        margin-top: 30px;
        margin-bottom: 15px;
        font-size: 1.1rem;
        font-weight: 600;
    }

    .why-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
        align-items: center;
    }

    .why-image img {
        width: 100%;
        max-width: 250px;
        margin: auto;
        justify-content: center;
        align-items: center;
        display: block;
        opacity: 0.85;
    }

    .workflow-step {
        position: relative;
    }

    .workflow-step::before {
        content: "";
        position: absolute;
        left: 30px;
        top: 70px;
        width: 2px;
        height: calc(100% - 70px);
        background: #e5e7eb;
    }

    .why-title {
        font-size: 1.2rem;
        font-weight: 700;
        margin-bottom: 20px;
    }

    .why-icon {
        border-radius: 20px;
        color: #53B863;
        display: flex;
        align-items: center;
        justify-content: center;
        background: #E8F5EE;
        width: 45px;
        height: 45px;
        font-size: 18px;
    }

    .why-card {
        display: flex;
        gap: 14px;
        background: #ffffff;
        padding: 16px;
        border-radius: 14px;
        border: 1px solid #eef2f6;
        box-shadow: none;
        margin-bottom: 16px;
    }

    .why-card h4 {
        font-size: 0.95rem;
        font-weight: 600;
        margin-bottom: 4px;
    }

    .why-card p {
        font-size: 0.85rem !important;
        color: #4b5563;
        line-height: 1.5;
    }

    .why-list {
        display: flex;
        flex-direction: column;
    }


    .chart-wrapper {
        position: relative;
        width: 100%;
        height: 350px;
        overflow: hidden;
    }

    .chart-wrapper canvas {
        width: 100% !important;
        height: 100% !important;
    }

    .features-section {
        padding: 80px 20px;
        background: #ffffff;
    }

    .features-section .container {
        max-width: 1100px;
        margin: 0 auto;
    }

    .features-title {
        text-align: center;
        font-size: 1.9rem;
        font-weight: 700;
        color: #1f2d3d;
        margin-bottom: 50px;
    }

    /* Grid */
    .features-grid {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 40px;
    }

    /* Item */
    .feature-item {
        text-align: center;
    }

    .feature-icon {
        width: 70px;
        height: 70px;
        background: #f3f6fb;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 15px auto;
        transition: all 0.3s ease;
    }

    .feature-icon i {
        font-size: 28px;
        color: #2e7d32;
    }

    .feature-item h4 {
        font-size: 1rem;
        font-weight: 600;
        margin-bottom: 5px;
        color: #1f2d3d;
    }

    .feature-item p {
        font-size: 0.85rem;
        color: #6b7280;
    }

    /* Hover */
    .feature-item:hover .feature-icon {
        background: #2e7d32;
        transform: translateY(-5px);
    }

    .feature-item:hover .feature-icon i {
        color: #ffffff;
    }

    /* Responsive */
    @media (max-width: 992px) {
        .features-grid {
            grid-template-columns: repeat(2, 1fr);
        }
    }

    @media (max-width: 576px) {
        .features-grid {
            grid-template-columns: 1fr;
        }
    }

    @media (max-width: 768px) {
        .workflow-step {
            flex-direction: column;
            align-items: center;
        }

        .step-number-card {
            margin-bottom: 6px;
        }

        .step-divider {
            display: block;
            width: 2px;
            height: 30px;
            background: #cbd5e1;
            margin: 8px 0;
        }

        .step-content-card {
            width: 100%;
            text-align: left;
        }
    }

    /* RESPONSIVE */
    @media (max-width: 992px) {
        .overview-container {
            grid-template-columns: 1fr;
        }

        .chart-wrapper {
            height: 280px;
        }
    }


    /* Header */
    .section-header {
        text-align: center;
        margin-bottom: 60px;
    }

    .section-header h2 {
        font-size: 1.9rem;
        font-weight: 700;
        color: #0f3f54;
        margin-bottom: 10px;
    }

    .section-header p {
        font-size: 0.85rem;
        color: #555;
        max-width: 650px;
        margin: 0 auto;
        line-height: 1.6;
    }

    .workflow-steps {
        display: flex;
        align-items: center;
        justify-content: center;
        flex-wrap: wrap;
    }


    .workflow-step {
        background: #ffffff;
        border-radius: 14px;
        font-size: 14px !important;
        width: 150px;
        min-height: auto;
        padding: 24px 18px;
        text-align: center;
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.08);
        transition: transform 0.3s ease;
    }

    .workflow-step p {
        font-size: 0.5rem;
    }

    .workflow-step:hover {
        transform: translateY(-6px);
    }

    .step-icon {
        width: 45px;
        height: 45px;
        background: #e8f5ee;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 15px auto;
    }

    .step-icon i {
        font-size: 20px;
        color: #2e7d32;
    }

    /* Text */
    .workflow-step h4 {
        font-size: 0.85rem;
        font-weight: 600;
        color: #1f2d3d;
        margin-bottom: 8px;
    }

    .workflow-step p {
        font-size: 0.75rem;
        color: #6b7280;
        line-height: 1.5;
    }

    /* Line Between Steps */
    .step-line {
        width: 30px;
        height: 2px;
        background: #cbd5e1;
        margin: 0 10px;
    }

    /* Responsive */
    @media (max-width: 992px) {
        .workflow-steps {
            flex-direction: column;
        }

        .step-line {
            width: 2px;
            height: 40px;
            margin: 15px 0;
        }

        .workflow-step {
            width: 100%;
            max-width: 340px;
        }

        .about-card {
            margin-bottom: 1.5rem;
        }

        .overview-left .about-card {
            transform: none !important;
        }
    }

    @media (max-width: 768px) {
        .why-grid {
            grid-template-columns: 1fr;
            text-align: center;
        }

        .why-card {
            align-items: center;
            text-align: left;
        }
    }
</style>


<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
    // Chart loading handled by main.js - no inline script needed

    // Energy Chart (untuk halaman lain)
    const ctx = document.getElementById('energyChart');
    if (ctx) {
        new Chart(ctx, {
            type: 'line',
            data: {
                labels: ['1970', '1980', '1990', '2000', '2010', '2020'],
                datasets: [
                    {
                        label: 'Data Historis',
                        data: [50, 120, 260, 520, 780, 850],
                        borderColor: '#1e88e5',
                        backgroundColor: 'rgba(30,136,229,0.1)',
                        tension: 0.4,
                        fill: true
                    },
                    {
                        label: 'Prediksi ARIMAX',
                        data: [null, null, null, null, 780, 920],
                        borderColor: '#8bc34a',
                        borderDash: [6, 6],
                        tension: 0.4
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom'
                    }
                },
                scales: {
                    y: {
                        title: {
                            display: true,
                            text: 'Konsumsi Energi (Joule)'
                        }
                    }
                }
            }
        });
    }
</script>

{% endblock %}